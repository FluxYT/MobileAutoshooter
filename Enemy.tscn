[gd_scene load_steps=10 format=3 uid="uid://dyiwenhw7v3ia"]

[ext_resource type="Shader" uid="uid://cx7x3my1tuig0" path="res://HitFlash.gdshader" id="1_s7bn3"]
[ext_resource type="Script" uid="uid://ct7exerxmlbtq" path="res://Enemy.cs" id="1_tt7e2"]
[ext_resource type="Script" uid="uid://cctxi6wokq53k" path="res://HurtBox.cs" id="2_e6d4v"]
[ext_resource type="Script" uid="uid://kb46h5snc4ou" path="res://HealthComponent.cs" id="4_qp131"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_gqquq"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_s7bn3"]
resource_local_to_scene = true
shader = ExtResource("1_s7bn3")
shader_parameter/flash_amount = 0.0
shader_parameter/flash_color = Color(1, 1, 1, 1)

[sub_resource type="Gradient" id="Gradient_tt7e2"]
offsets = PackedFloat32Array(1)
colors = PackedColorArray(1, 0.3529412, 0.21568628, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_s7bn3"]
gradient = SubResource("Gradient_tt7e2")

[sub_resource type="RectangleShape2D" id="RectangleShape2D_rvmyp"]
size = Vector2(78, 77)

[node name="Enemy" type="CharacterBody2D" node_paths=PackedStringArray("Sprite", "HealthComponent", "HurtBox", "Collider") groups=["Enemy"]]
script = ExtResource("1_tt7e2")
Sprite = NodePath("Sprite2D")
HealthComponent = NodePath("HealthComponent")
HurtBox = NodePath("HurtBox")
Collider = NodePath("Collider")

[node name="Collider" type="CollisionShape2D" parent="."]
shape = SubResource("RectangleShape2D_gqquq")

[node name="Sprite2D" type="Sprite2D" parent="."]
material = SubResource("ShaderMaterial_s7bn3")
texture = SubResource("GradientTexture2D_s7bn3")

[node name="HealthComponent" type="Node" parent="."]
script = ExtResource("4_qp131")

[node name="HurtBox" type="Area2D" parent="." node_paths=PackedStringArray("HealthComponent")]
script = ExtResource("2_e6d4v")
HealthComponent = NodePath("../HealthComponent")

[node name="Collider" type="CollisionShape2D" parent="HurtBox"]
position = Vector2(0, 0.5)
shape = SubResource("RectangleShape2D_rvmyp")
